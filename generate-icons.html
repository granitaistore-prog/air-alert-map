<!DOCTYPE html>
<html>
<head>
    <title>PWA Icon Generator - Air Alert</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; }
        h1 { margin-bottom: 20px; color: #0A1F3A; }
        .preview { text-align: center; margin: 20px 0; }
        canvas { border: 1px solid #ddd; margin: 10px; }
        .sizes { display: flex; flex-wrap: wrap; gap: 10px; margin: 20px 0; }
        .size-item { border: 1px solid #ddd; padding: 10px; border-radius: 5px; text-align: center; }
        .buttons { margin-top: 20px; }
        button { padding: 10px 20px; margin-right: 10px; background: #005BBB; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #004499; }
        .download-all { background: #FFD500; color: #0A1F3A; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõ°Ô∏è –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —ñ–∫–æ–Ω–æ–∫ –¥–ª—è PWA –¥–æ–¥–∞—Ç–∫—É</h1>
        
        <div class="preview">
            <canvas id="previewCanvas" width="512" height="512"></canvas>
        </div>
        
        <div class="sizes" id="sizesContainer">
            <!-- –†–æ–∑–º—ñ—Ä–∏ –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ —á–µ—Ä–µ–∑ JS -->
        </div>
        
        <div class="buttons">
            <button onclick="generateAllIcons()">–°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—Å—ñ —ñ–∫–æ–Ω–∫–∏</button>
            <button class="download-all" onclick="downloadAll()">üì• –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ ZIP</button>
            <button onclick="copyToClipboard()">üìã –ö–æ–ø—ñ—é–≤–∞—Ç–∏ SVG</button>
        </div>
        
        <div style="margin-top: 30px; padding: 20px; background: #f0f8ff; border-radius: 5px;">
            <h3>–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:</h3>
            <ol style="margin-left: 20px; margin-top: 10px;">
                <li>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—Å—ñ —ñ–∫–æ–Ω–∫–∏"</li>
                <li>–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ ZIP –∞—Ä—Ö—ñ–≤ –∑ —ñ–∫–æ–Ω–∫–∞–º–∏</li>
                <li>–†–æ–∑–ø–∞–∫—É–π—Ç–µ –≤ –ø–∞–ø–∫—É <code>assets/icons/</code></li>
                <li>–û–Ω–æ–≤—ñ—Ç—å <code>manifest.json</code></li>
            </ol>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    
    <script>
        const sizes = [
            { name: 'icon-72', size: 72 },
            { name: 'icon-96', size: 96 },
            { name: 'icon-128', size: 128 },
            { name: 'icon-144', size: 144 },
            { name: 'icon-192', size: 192 },
            { name: 'icon-256', size: 256 },
            { name: 'icon-384', size: 384 },
            { name: 'icon-512', size: 512 },
            { name: 'maskable-icon', size: 512, maskable: true },
            { name: 'favicon', size: 32 }
        ];

        const svgCode = `<?xml version="1.0" encoding="UTF-8"?>
<svg width="512" height="512" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect width="512" height="512" rx="256" fill="#0A1F3A"/>
    <rect x="51.2" y="51.2" width="409.6" height="409.6" rx="204.8" fill="#005BBB"/>
    <rect x="51.2" y="307.2" width="409.6" height="153.6" fill="#FFD500"/>
    <path d="M256 102.4C181.76 102.4 121.6 162.56 121.6 236.8C121.6 311.04 256 409.6 256 409.6C256 409.6 390.4 311.04 390.4 236.8C390.4 162.56 330.24 102.4 256 102.4Z" fill="#0A1F3A" stroke="white" stroke-width="12.8"/>
    <path d="M256 179.2L204.8 281.6H307.2L230.4 409.6L358.4 256H256L256 179.2Z" fill="#FFD500"/>
    <rect x="6.4" y="6.4" width="499.2" height="499.2" rx="249.6" stroke="white" stroke-width="12.8" fill="none"/>
</svg>`;

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–µ–≤'—é
        const previewCanvas = document.getElementById('previewCanvas');
        const ctx = previewCanvas.getContext('2d');
        
        // –°—Ç–≤–æ—Ä—é—î–º–æ —Å–ø–∏—Å–æ–∫ —Ä–æ–∑–º—ñ—Ä—ñ–≤
        const sizesContainer = document.getElementById('sizesContainer');
        sizes.forEach(size => {
            const div = document.createElement('div');
            div.className = 'size-item';
            div.innerHTML = `
                <div style="font-weight: bold; margin-bottom: 5px;">${size.name}</div>
                <div>${size.size}√ó${size.size}px</div>
                <canvas id="canvas-${size.name}" width="${size.size}" height="${size.size}" 
                        style="width: 50px; height: 50px; margin-top: 5px;"></canvas>
            `;
            sizesContainer.appendChild(div);
        });

        // –§—É–Ω–∫—Ü—ñ—è –º–∞–ª—é–≤–∞–Ω–Ω—è —ñ–∫–æ–Ω–∫–∏
        function drawIcon(ctx, size, isMaskable = false) {
            const scale = size / 512;
            ctx.clearRect(0, 0, size, size);
            
            // –î–ª—è –º–∞—Å–∫–æ–≤–∞–Ω–∏—Ö —ñ–∫–æ–Ω–æ–∫ - –∫—Ä—É–≥–ª–∏–π —Ñ–æ–Ω –∑ safe zone
            if (isMaskable) {
                ctx.fillStyle = '#0A1F3A';
                ctx.beginPath();
                ctx.arc(size/2, size/2, size/2, 0, Math.PI * 2);
                ctx.fill();
                
                // –ë–µ–∑–ø–µ—á–Ω–∞ –∑–æ–Ω–∞ (80%)
                const safeSize = size * 0.8;
                const safeX = (size - safeSize) / 2;
                const safeY = (size - safeSize) / 2;
                
                // –ú–∞–ª—é—î–º–æ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ safe zone
                ctx.save();
                ctx.translate(safeX, safeY);
                size = safeSize;
            }
            
            // –û—Å–Ω–æ–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω
            const center = size / 2;
            
            // –°–∏–Ω—ñ–π —Ñ–æ–Ω
            ctx.fillStyle = '#005BBB';
            ctx.beginPath();
            ctx.arc(center, center, size * 0.4, 0, Math.PI * 2);
            ctx.fill();
            
            // –ñ–æ–≤—Ç–∞ —Å–º—É–≥–∞
            ctx.fillStyle = '#FFD500';
            ctx.fillRect(size * 0.1, center, size * 0.8, size * 0.3);
            
            // –©–∏—Ç
            ctx.fillStyle = '#0A1F3A';
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 12.8 * scale;
            
            ctx.beginPath();
            const shieldSize = size * 0.35;
            ctx.moveTo(center, size * 0.2);
            ctx.bezierCurveTo(
                size * 0.3, size * 0.2,
                size * 0.2, size * 0.35,
                size * 0.2, size * 0.46
            );
            ctx.bezierCurveTo(
                size * 0.2, size * 0.6,
                center, size * 0.75,
                center, size * 0.75
            );
            ctx.bezierCurveTo(
                center, size * 0.75,
                size * 0.8, size * 0.6,
                size * 0.8, size * 0.46
            );
            ctx.bezierCurveTo(
                size * 0.8, size * 0.35,
                size * 0.7, size * 0.2,
                center, size * 0.2
            );
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // –ú–æ–ª–Ω—ñ—è
            ctx.fillStyle = '#FFD500';
            ctx.beginPath();
            ctx.moveTo(center, size * 0.35);
            ctx.lineTo(size * 0.4, size * 0.55);
            ctx.lineTo(size * 0.6, size * 0.55);
            ctx.lineTo(size * 0.45, size * 0.8);
            ctx.lineTo(size * 0.7, size * 0.5);
            ctx.lineTo(size * 0.5, size * 0.5);
            ctx.lineTo(center, size * 0.35);
            ctx.closePath();
            ctx.fill();
            
            if (isMaskable) {
                ctx.restore();
            }
            
            // –ö–æ–Ω—Ç—É—Ä
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 6.4 * scale;
            ctx.beginPath();
            ctx.arc(size/2, size/2, size/2 - ctx.lineWidth/2, 0, Math.PI * 2);
            ctx.stroke();
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—Å—ñ—Ö —ñ–∫–æ–Ω–æ–∫
        function generateAllIcons() {
            sizes.forEach(size => {
                const canvas = document.getElementById(`canvas-${size.name}`);
                const ctx = canvas.getContext('2d');
                drawIcon(ctx, size.size, size.maskable);
            });
            
            // –ü—Ä–µ–≤'—é
            drawIcon(previewCanvas.getContext('2d'), 512);
            
            alert('–Ü–∫–æ–Ω–∫–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ! –¢–µ–ø–µ—Ä –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ ZIP"');
        }

        // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö —ñ–∫–æ–Ω–æ–∫ —è–∫ ZIP
        async function downloadAll() {
            const zip = new JSZip();
            const iconsFolder = zip.folder("icons");
            
            // –î–æ–¥–∞—î–º–æ SVG
            iconsFolder.file("icon.svg", svgCode);
            
            // –î–æ–¥–∞—î–º–æ –≤—Å—ñ PNG
            sizes.forEach(size => {
                const canvas = document.getElementById(`canvas-${size.name}`);
                const dataUrl = canvas.toDataURL("image/png");
                const base64 = dataUrl.split(',')[1];
                iconsFolder.file(`${size.name}.png`, base64, {base64: true});
            });
            
            // –°—Ç–≤–æ—Ä—é—î–º–æ readme
            const readme = `# –Ü–∫–æ–Ω–∫–∏ –¥–ª—è PWA –¥–æ–¥–∞—Ç–∫—É "–ü–æ–≤—ñ—Ç—Ä—è–Ω–∞ —Ç—Ä–∏–≤–æ–≥–∞ –£–∫—Ä–∞—ó–Ω–∞"

## –†–æ–∑–º—ñ—Ä–∏:
- icon-192.png - –æ—Å–Ω–æ–≤–Ω–∞ –¥–ª—è Android
- icon-512.png - –æ—Å–Ω–æ–≤–Ω–∞ –¥–ª—è iOS  
- maskable-icon.png - –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–∏—Ö —ñ–∫–æ–Ω–æ–∫ Android
- favicon.png - –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
1. –ü–æ–º—ñ—Å—Ç—ñ—Ç—å –≤—Å—ñ —Ñ–∞–π–ª–∏ –≤ –ø–∞–ø–∫—É assets/icons/
2. –û–Ω–æ–≤—ñ—Ç—å manifest.json
3. –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –¥–æ–¥–∞—Ç–æ–∫

## –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è:
–¶—ñ —ñ–∫–æ–Ω–∫–∏ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é generate-icons.html`;
            
            iconsFolder.file("README.txt", readme);
            
            // –ì–µ–Ω–µ—Ä—É—î–º–æ —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ ZIP
            const content = await zip.generateAsync({type: "blob"});
            saveAs(content, "air-alert-icons.zip");
        }

        // –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è SVG –≤ –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É
        function copyToClipboard() {
            navigator.clipboard.writeText(svgCode).then(() => {
                alert('SVG –∫–æ–¥ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É!');
            });
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î–º–æ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
        window.onload = generateAllIcons;
    </script>
</body>
</html>
