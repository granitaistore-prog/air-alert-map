<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a1f3a">
    <title>–ü–æ–≤—ñ—Ç—Ä—è–Ω–∞ —Ç—Ä–∏–≤–æ–≥–∞ | –£–∫—Ä–∞—ó–Ω–∞</title>
    <meta name="description" content="–û—Ñ—ñ—Ü—ñ–π–Ω–∏–π PWA –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –ø–æ–≤—ñ—Ç—Ä—è–Ω–∏—Ö —Ç—Ä–∏–≤–æ–≥ –ø–æ –≤—Å—ñ–π –£–∫—Ä–∞—ó–Ω—ñ">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    
    <!-- –í–ª–∞—Å–Ω—ñ —Å—Ç–∏–ª—ñ -->
    <link rel="stylesheet" href="assets/styles.css">
    
    <!-- –Ü–∫–æ–Ω–∫–∏ -->
    <link rel="icon" type="image/svg+xml" href="assets/icons/icon.svg">
    <link rel="apple-touch-icon" href="assets/icons/icon-192.png">
</head>
<body>
    <!-- –•–µ–¥–µ—Ä -->
    <header class="app-header">
        <div class="header-content">
            <h1>üõ°Ô∏è –°–ò–°–¢–ï–ú–ê –ü–û–í–Ü–¢–†–Ø–ù–ò–• –¢–†–ò–í–û–ì | –£–ö–†–ê–á–ù–ê</h1>
            <div class="subtitle">
                <span id="api-status">üîÑ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Å–∏—Å—Ç–µ–º–∏...</span>
            </div>
        </div>
        <div class="header-controls">
            <button id="btn-refresh" class="btn-control" title="–û–Ω–æ–≤–∏—Ç–∏ –¥–∞–Ω—ñ">
                üîÑ –û–Ω–æ–≤–∏—Ç–∏
            </button>
            <button id="btn-install" class="btn-control btn-primary" title="–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫">
                üì≤ –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏
            </button>
        </div>
    </header>

    <!-- –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <main class="app-container">
        <!-- –ú–∞–ø–∞ -->
        <div id="map" class="map-container"></div>
        
        <!-- –°—Ç–∞—Ç—É—Å –ø–∞–Ω–µ–ª—å -->
        <div id="status-panel" class="status-panel">
            <div class="status-grid">
                <div class="status-item">
                    <div class="status-icon">‚ö†Ô∏è</div>
                    <div class="status-content">
                        <div class="status-value" id="alert-count">0</div>
                        <div class="status-label">–∞–∫—Ç–∏–≤–Ω–∏—Ö —Ç—Ä–∏–≤–æ–≥</div>
                    </div>
                </div>
                <div class="status-item">
                    <div class="status-icon">üïí</div>
                    <div class="status-content">
                        <div class="status-value" id="last-update">--:--</div>
                        <div class="status-label">–æ–Ω–æ–≤–ª–µ–Ω–æ</div>
                    </div>
                </div>
                <div class="status-item">
                    <div class="status-icon" id="connection-icon">üì°</div>
                    <div class="status-content">
                        <div class="status-value" id="connection-status">–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è</div>
                        <div class="status-label" id="api-source">alerts.com.ua</div>
                    </div>
                </div>
                <div class="status-item">
                    <div class="status-icon">üåç</div>
                    <div class="status-content">
                        <div class="status-value" id="region-count">24</div>
                        <div class="status-label">—Ä–µ–≥—ñ–æ–Ω–∏</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ë—ñ—á–Ω–∞ –ø–∞–Ω–µ–ª—å —Ç—Ä–∏–≤–æ–≥ -->
        <aside id="alerts-panel" class="alerts-panel">
            <div class="panel-header">
                <h3>üì¢ –ê–ö–¢–ò–í–ù–Ü –¢–†–ò–í–û–ì–ò</h3>
                <button id="btn-close-panel" class="btn-close">√ó</button>
            </div>
            <div class="alerts-list" id="alerts-list">
                <div class="empty-state">
                    <div class="empty-icon">üïäÔ∏è</div>
                    <div class="empty-title">–¢—Ä–∏–≤–æ–≥ –Ω–µ–º–∞—î</div>
                    <div class="empty-text">–£—Å—ñ —Ä–µ–≥—ñ–æ–Ω–∏ –£–∫—Ä–∞—ó–Ω–∏ –±–µ–∑ –ø–æ–≤—ñ—Ç—Ä—è–Ω–∏—Ö —Ç—Ä–∏–≤–æ–≥</div>
                </div>
            </div>
            <div class="panel-footer">
                <div class="update-info">
                    <span class="update-icon">üîÑ</span>
                    <span>–ê–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è: <span id="update-timer">30</span>—Å</span>
                </div>
                <button id="btn-manual-update" class="btn-small">–û–Ω–æ–≤–∏—Ç–∏ –∑–∞—Ä–∞–∑</button>
            </div>
        </aside>

        <!-- –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ –ø–∞–Ω–µ–ª—å -->
        <div class="control-panel">
            <button id="btn-center" class="control-btn" title="–¶–µ–Ω—Ç—Ä—É–≤–∞—Ç–∏ –Ω–∞ –£–∫—Ä–∞—ó–Ω—ñ">
                üéØ –£–∫—Ä–∞—ó–Ω–∞
            </button>
            <button id="btn-show-alerts" class="control-btn" title="–ü–æ–∫–∞–∑–∞—Ç–∏ —Ç—Ä–∏–≤–æ–≥–∏">
                üì¢ –¢—Ä–∏–≤–æ–≥–∏
            </button>
            <button id="btn-layers" class="control-btn" title="–®–∞—Ä–∏ –º–∞–ø–∏">
                üó∫Ô∏è –®–∞—Ä–∏
            </button>
            <button id="btn-location" class="control-btn" title="–ú–æ—î –º—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è">
                üìç –ú–æ—î –º—ñ—Å—Ü–µ
            </button>
            <button id="btn-fullscreen" class="control-btn" title="–ü–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–∏–π —Ä–µ–∂–∏–º">
                ‚õ∂ –ï–∫—Ä–∞–Ω
            </button>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —à–∞—Ä—ñ–≤ -->
        <div id="modal-layers" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>‚öôÔ∏è –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø –ú–ê–ü–ò</h3>
                    <button class="btn-close">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="settings-section">
                        <h4>üó∫Ô∏è –¢–ò–ü –ú–ê–ü–ò</h4>
                        <div class="layer-options">
                            <div class="layer-option">
                                <input type="radio" id="layer-dark" name="map-layer" checked>
                                <label for="layer-dark">
                                    <span class="layer-icon">üåô</span>
                                    <span class="layer-name">–¢–µ–º–Ω–∞ –º–∞–ø–∞</span>
                                    <span class="layer-desc">–û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –Ω—ñ—á–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è</span>
                                </label>
                            </div>
                            <div class="layer-option">
                                <input type="radio" id="layer-satellite" name="map-layer">
                                <label for="layer-satellite">
                                    <span class="layer-icon">üõ∞Ô∏è</span>
                                    <span class="layer-name">–°—É–ø—É—Ç–Ω–∏–∫–æ–≤—ñ –∑–Ω—ñ–º–∫–∏</span>
                                    <span class="layer-desc">–î–µ—Ç–∞–ª—å–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –º—ñ—Å—Ü–µ–≤–æ—Å—Ç—ñ</span>
                                </label>
                            </div>
                            <div class="layer-option">
                                <input type="radio" id="layer-terrain" name="map-layer">
                                <label for="layer-terrain">
                                    <span class="layer-icon">‚õ∞Ô∏è</span>
                                    <span class="layer-name">–†–µ–ª—å—î—Ñ–Ω–∞ –º–∞–ø–∞</span>
                                    <span class="layer-desc">–í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤–∏—Å–æ—Ç —Ç–∞ —Ä–µ–ª—å—î—Ñ—É</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4>üîî –°–ü–û–í–Ü–©–ï–ù–ù–Ø</h4>
                        <div class="setting-options">
                            <div class="setting-option">
                                <input type="checkbox" id="setting-sound" checked>
                                <label for="setting-sound">
                                    <span>–ó–≤—É–∫–æ–≤—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è</span>
                                    <span class="setting-desc">–ó–≤—É–∫ –ø—Ä–∏ –Ω–æ–≤—ñ–π —Ç—Ä–∏–≤–æ–∑—ñ</span>
                                </label>
                            </div>
                            <div class="setting-option">
                                <input type="checkbox" id="setting-vibrate" checked>
                                <label for="setting-vibrate">
                                    <span>–í—ñ–±—Ä–∞—Ü—ñ—è</span>
                                    <span class="setting-desc">–í—ñ–±—Ä–æ—Å–∏–≥–Ω–∞–ª –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ</span>
                                </label>
                            </div>
                            <div class="setting-option">
                                <input type="checkbox" id="setting-auto-update" checked>
                                <label for="setting-auto-update">
                                    <span>–ê–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è</span>
                                    <span class="setting-desc">–û–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4>üîÑ –Ü–ù–¢–ï–†–í–ê–õ –û–ù–û–í–õ–ï–ù–ù–Ø</h4>
                        <div class="interval-options">
                            <select id="update-interval" class="interval-select">
                                <option value="15">15 —Å–µ–∫—É–Ω–¥</option>
                                <option value="30" selected>30 —Å–µ–∫—É–Ω–¥</option>
                                <option value="60">1 —Ö–≤–∏–ª–∏–Ω–∞</option>
                                <option value="120">2 —Ö–≤–∏–ª–∏–Ω–∏</option>
                                <option value="300">5 —Ö–≤–∏–ª–∏–Ω</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="btn-save-settings" class="btn-save">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Ä–µ–≥—ñ–æ–Ω -->
        <div id="modal-region-info" class="modal">
            <div class="modal-content region-info">
                <div class="modal-header">
                    <h3 id="region-name">–†–ï–ì–Ü–û–ù</h3>
                    <button class="btn-close">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="region-status" id="region-status">
                        <div class="status-indicator alert">
                            <span class="status-icon">‚ö†Ô∏è</span>
                            <span class="status-text">–ê–ö–¢–ò–í–ù–ê –¢–†–ò–í–û–ì–ê</span>
                        </div>
                    </div>
                    
                    <div class="region-details">
                        <div class="detail-item">
                            <span class="detail-label">–ü–æ—á–∞—Ç–æ–∫ —Ç—Ä–∏–≤–æ–≥–∏:</span>
                            <span class="detail-value" id="region-alert-start">--:--</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å:</span>
                            <span class="detail-value" id="region-duration">--</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">–û–Ω–æ–≤–ª–µ–Ω–æ:</span>
                            <span class="detail-value" id="region-updated">--:--</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">–î–∂–µ—Ä–µ–ª–æ:</span>
                            <span class="detail-value" id="region-source">alerts.com.ua</span>
                        </div>
                    </div>
                    
                    <div class="region-history" id="region-history">
                        <h4>üìà –Ü–°–¢–û–†–Ü–Ø –¢–†–ò–í–û–ì</h4>
                        <div class="history-list">
                            <!-- –ë—É–¥–µ –∑–∞–ø–æ–≤–Ω—é–≤–∞—Ç–∏—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ -->
                        </div>
                    </div>
                    
                    <div class="region-actions">
                        <button id="btn-center-region" class="btn-action">
                            üéØ –¶–µ–Ω—Ç—Ä—É–≤–∞—Ç–∏ –Ω–∞ —Ä–µ–≥—ñ–æ–Ω—ñ
                        </button>
                        <button id="btn-share-alert" class="btn-action">
                            üì§ –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ï–∫—Ä–∞–Ω –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-content">
                <div class="loading-logo">üõ°Ô∏è</div>
                <h2 class="loading-title">–°–ò–°–¢–ï–ú–ê –ü–û–í–Ü–¢–†–Ø–ù–ò–• –¢–†–ò–í–û–ì</h2>
                <div class="loading-text">–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É...</div>
                
                <div class="loading-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div class="progress-text" id="loading-progress">0%</div>
                </div>
                
                <div class="loading-steps">
                    <div class="step" id="step-1">‚úì –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–∞–ø–∏</div>
                    <div class="step" id="step-2">‚è≥ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Å–∏—Å—Ç–µ–º–∏ —Ç—Ä–∏–≤–æ–≥</div>
                    <div class="step" id="step-3">‚è≥ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —Ä–µ–≥—ñ–æ–Ω—ñ–≤</div>
                    <div class="step" id="step-4">‚è≥ –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É</div>
                </div>
                
                <div class="loading-tips">
                    <div class="tip">üí° –î–æ–¥–∞–π—Ç–µ –¥–æ–¥–∞—Ç–æ–∫ –Ω–∞ –¥–æ–º–∞—à–Ω—ñ–π –µ–∫—Ä–∞–Ω –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø—É</div>
                    <div class="tip">üîî –£–≤—ñ–º–∫–Ω—ñ—Ç—å —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –¥–ª—è –º–∏—Ç—Ç—î–≤–∏—Ö –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω—å</div>
                    <div class="tip">üì° –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ —É–≤—ñ–º–∫–Ω–µ–Ω–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑'—î–¥–Ω–∞–Ω–Ω—è</div>
                </div>
            </div>
        </div>

        <!-- –û—Ñ–ª–∞–π–Ω –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è -->
        <div id="offline-notice" class="notice offline">
            <div class="notice-content">
                <span class="notice-icon">üì°</span>
                <span class="notice-text">–û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º. –î–∞–Ω—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω–∏–º–∏.</span>
                <button id="btn-dismiss-offline" class="notice-close">√ó</button>
            </div>
        </div>

        <!-- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –Ω–æ–≤—ñ —Ç—Ä–∏–≤–æ–≥–∏ -->
        <div id="new-alert-notice" class="notice new-alert">
            <div class="notice-content">
                <span class="notice-icon">üö®</span>
                <span class="notice-text" id="new-alert-text">–ù–æ–≤–∞ –ø–æ–≤—ñ—Ç—Ä—è–Ω–∞ —Ç—Ä–∏–≤–æ–≥–∞!</span>
                <button id="btn-show-new-alert" class="notice-action">–ü–æ–∫–∞–∑–∞—Ç–∏</button>
                <button id="btn-dismiss-alert" class="notice-close">√ó</button>
            </div>
        </div>
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="app-footer">
        <div class="footer-content">
            <div class="footer-warning">
                <div class="warning-icon">‚ö†Ô∏è</div>
                <div class="warning-text">
                    <strong>–í–ê–ñ–õ–ò–í–û:</strong> –¶–µ–π –¥–æ–¥–∞—Ç–æ–∫ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –æ—Ñ—ñ—Ü—ñ–π–Ω—ñ –¥–∞–Ω—ñ –ø—Ä–æ –ø–æ–≤—ñ—Ç—Ä—è–Ω—ñ —Ç—Ä–∏–≤–æ–≥–∏. 
                    –ó–∞–≤–∂–¥–∏ —Å–ª—ñ–¥–∫—É–π—Ç–µ –∑–∞ –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–º–∏ –¥–∂–µ—Ä–µ–ª–∞–º–∏ —Ç–∞ –¥–æ—Ç—Ä–∏–º—É–π—Ç–µ—Å—å –ø—Ä–∞–≤–∏–ª –±–µ–∑–ø–µ–∫–∏.
                </div>
            </div>
            
            <div class="footer-info">
                <div class="info-item">
                    <span class="info-label">–°–∏—Å—Ç–µ–º–∞:</span>
                    <span class="info-value" id="system-status">–ê–∫—Ç–∏–≤–Ω–∞</span>
                </div>
                <div class="info-item">
                    <span class="info-label">–î–∂–µ—Ä–µ–ª–æ:</span>
                    <span class="info-value" id="data-source">alerts.com.ua</span>
                </div>
                <div class="info-item">
                    <span class="info-label">–û–Ω–æ–≤–ª–µ–Ω–æ:</span>
                    <span class="info-value" id="last-data-update">--:--</span>
                </div>
                <div class="info-item">
                    <span class="info-label">–í–µ—Ä—Å—ñ—è:</span>
                    <span class="info-value">1.0.0</span>
                </div>
            </div>
            
            <div class="footer-links">
                <a href="#" class="footer-link" data-action="about">–ü—Ä–æ –¥–æ–¥–∞—Ç–æ–∫</a>
                <a href="#" class="footer-link" data-action="safety">–ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–ø–µ–∫–∏</a>
                <a href="#" class="footer-link" data-action="sources">–î–∂–µ—Ä–µ–ª–∞ –¥–∞–Ω–∏—Ö</a>
                <a href="#" class="footer-link" data-action="contact">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script type="module" src="src/main.js"></script>
    
    <!-- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ–π–Ω–∏–π —Å–∫—Ä–∏–ø—Ç -->
    <script>
        // –ë–∞–∑–æ–≤–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
        document.addEventListener('DOMContentLoaded', function() {
            // –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–µ–º–∏
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
            
            // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Service Worker –¥–ª—è PWA
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('Service Worker –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ:', registration.scope);
                    })
                    .catch(error => {
                        console.log('–ü–æ–º–∏–ª–∫–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó Service Worker:', error);
                    });
            }
            
            // –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å—É
            function updateOnlineStatus() {
                const isOnline = navigator.onLine;
                document.getElementById('offline-notice').style.display = isOnline ? 'none' : 'flex';
                
                if (!isOnline) {
                    document.getElementById('system-status').textContent = '–û—Ñ–ª–∞–π–Ω';
                    document.getElementById('system-status').className = 'info-value offline';
                }
            }
            
            window.addEventListener('online', updateOnlineStatus);
            window.addEventListener('offline', updateOnlineStatus);
            updateOnlineStatus(); // –ü–æ—á–∞—Ç–∫–æ–≤–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
            
            // –ü—Ä–æ—Å—Ç–µ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ PWA
            const installButton = document.getElementById('btn-install');
            let deferredPrompt;
            
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                installButton.style.display = 'flex';
                
                installButton.addEventListener('click', async () => {
                    if (deferredPrompt) {
                        deferredPrompt.prompt();
                        const { outcome } = await deferredPrompt.userChoice;
                        if (outcome === 'accepted') {
                            installButton.innerHTML = '‚úÖ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ';
                            installButton.disabled = true;
                        }
                        deferredPrompt = null;
                    }
                });
            });
            
            // –•–æ–≤–∞—î–º–æ –∫–Ω–æ–ø–∫—É –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è, —è–∫—â–æ –¥–æ–¥–∞—Ç–æ–∫ –≤–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
            if (window.matchMedia('(display-mode: standalone)').matches) {
                installButton.style.display = 'none';
            }
            
            // –ê–Ω—ñ–º–∞—Ü—ñ—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
            const loadingScreen = document.getElementById('loading-screen');
            const progressFill = document.getElementById('progress-fill');
            const progressText = document.getElementById('loading-progress');
            
            // –°–∏–º—É–ª—è—Ü—ñ—è –ø—Ä–æ–≥—Ä–µ—Å—É (–±—É–¥–µ –∑–∞–º—ñ–Ω–µ–Ω–∞ —Ä–µ–∞–ª—å–Ω–∏–º –ø—Ä–æ–≥—Ä–µ—Å–æ–º –∑ main.js)
            let progress = 0;
            const progressInterval = setInterval(() => {
                if (progress < 90) {
                    progress += 10;
                    progressFill.style.width = progress + '%';
                    progressText.textContent = progress + '%';
                } else {
                    clearInterval(progressInterval);
                }
            }, 300);
        });
    </script>
</body>
</html>
